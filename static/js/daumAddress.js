"use strict";var searchAddressBtn=document.getElementById("searchAddressBtn"),result=document.getElementById("result"),mapContainer=document.getElementById("kakaoMap"),addressInput=document.querySelector("input[name=address]"),locationInput=document.querySelector("input[name=location]"),mapOption={center:new daum.maps.LatLng(37.537187,127.005476),level:5},map=new daum.maps.Map(mapContainer,mapOption),marker=new daum.maps.Marker({position:new daum.maps.LatLng(37.537187,127.005476),map:map}),paintMap=function(e,n){e=new daum.maps.LatLng(e,n);map.setCenter(e),marker.setPosition(e)},paintInitMap=function(){addressInput.value?(moveMapByAddress(addressInput.value),paintAddress(addressInput.value)):navigator.geolocation.getCurrentPosition(function(e){var n=e.coords.latitude,e=e.coords.longitude;paintMap(n,e)},function(){alert("위치 허용을 하셔야 이용가능합니다")},{enableHighAccuracy:!0})},paintAddress=function(e){result.innerHTML="";var n=document.createElement("div");n.innerText="주소: "+e,result.appendChild(n)},moveMapByAddress=function(e){(new daum.maps.services.Geocoder).addressSearch(e,function(e,n){n===daum.maps.services.Status.OK?(n=e[0],e=Number(n.y),n=Number(n.x),paintMap(e,n)):alert("오류발생")})},show=function(){new daum.Postcode({oncomplete:function(e){addressInput.value=e.roadAddress,locationInput.value=e.sido+" "+e.sigungu+" "+e.bname,paintAddress(e.roadAddress),moveMapByAddress(e.roadAddress)}}).open()},init=function(){paintInitMap(),searchAddressBtn.addEventListener("click",show)};init();